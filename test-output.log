
> portfolio@0.1.0 test
> dotenv -e .env.test -- jest

PASS __tests__/app/api/contact.test.ts (46.864 s)
  Contact API
    ✓ should send an email successfully (10 ms)
    ✓ should handle Resend API errors (2 ms)
    ✓ should handle unexpected Resend API response (7 ms)

  console.log
    Changes detected in GitHub data

      at app/api/github-projects/utils.ts:40:11

PASS __tests__/integration/github-projects.test.ts (48.893 s)
  GitHub Projects API
    checkForUpdates function
      ✓ should return true when there is no cached data (6 ms)
      ✓ should return true when there are changes in the data (43 ms)

PASS __tests__/app/api/github-projects.test.ts (49.125 s)
  GitHub Projects API
    ✓ should return projects data (7 ms)
    ✓ should handle errors and use cached data (2 ms)
    ✓ should force refresh data when 'force' query param is true (1 ms)
    ✓ should handle pagination (2 ms)

PASS __tests__/app/api/wakatime.test.ts (10.6 s)
  WakaTime API Route
    ✓ should fetch and cache data from WakaTime API (4 ms)
    ✓ should use cached data within cache duration (1 ms)
    ✓ should handle WakaTime API errors (1 ms)
    ✓ should change status based on last activity (1 ms)

PASS __tests__/integration/contact.test.ts (10.932 s)
  Contact API Integration
    ✓ should send an email successfully via Resend API (476 ms)

PASS __tests__/app/layout.test.tsx (18.27 s)
  RootLayout
    ✓ should render children correctly (53 ms)
    ✓ should apply the correct class names (3 ms)
    ✓ should set the correct lang attribute (3 ms)
    ✓ should use Providers component (2 ms)
    ✓ should have correct metadata (1 ms)

PASS __tests__/integration/wakatime.test.ts (10.737 s)
  WakaTime API Integration
    ✓ should fetch WakaTime data successfully (744 ms)
    ✓ should use cached data on subsequent calls within cache duration (1002 ms)

---------------------------------------|---------|----------|---------|---------|--------------------------
File                                   | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s        
---------------------------------------|---------|----------|---------|---------|--------------------------
All files                              |   83.56 |    64.86 |   85.71 |   83.56 |                          
 NEW-PORTFOLIO                         |     100 |      100 |     100 |     100 |                          
  jest.setup.ts                        |     100 |      100 |     100 |     100 |                          
 NEW-PORTFOLIO/app                     |     100 |      100 |     100 |     100 |                          
  layout.tsx                           |     100 |      100 |     100 |     100 |                          
 NEW-PORTFOLIO/app/api/contact         |     100 |    71.42 |     100 |     100 |                          
  route.ts                             |     100 |    71.42 |     100 |     100 | 29,52                    
 NEW-PORTFOLIO/app/api/github-projects |   44.73 |    57.14 |      50 |   44.73 |                          
  cache.ts                             |     100 |      100 |     100 |     100 |                          
  utils.ts                             |   42.72 |    57.14 |      50 |   42.72 | 31-32,47-50,54-110       
 NEW-PORTFOLIO/app/api/wakatime        |   92.72 |     61.9 |     100 |   92.72 |                          
  route.ts                             |   92.72 |     61.9 |     100 |   92.72 | 42-43,99,101-102,107-109 
 NEW-PORTFOLIO/src/lib                 |     100 |      100 |     100 |     100 |                          
  githubQueries.ts                     |     100 |      100 |     100 |     100 |                          
  utils.ts                             |     100 |      100 |     100 |     100 |                          
---------------------------------------|---------|----------|---------|---------|--------------------------
Test Suites: 7 passed, 7 total
Tests:       21 passed, 21 total
Snapshots:   0 total
Time:        69.135 s
Ran all test suites.
